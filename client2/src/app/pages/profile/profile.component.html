<div class="profile-container">
  <dx-form [formData]="user" labelLocation="top">
    <dxi-item dataField="Username">
      <ng-template dxTemplate="content">
        <div class="field-wrapper">
          <span>{{ user.Username }}</span>
          <dx-button icon="edit" (onClick)="enableEdit('Username')"></dx-button>
        </div>
      </ng-template>
    </dxi-item>

    <dxi-item dataField="Email">
      <ng-template dxTemplate="content">
        <div class="field-wrapper">
          <span>{{ user.Email }}</span>
          <dx-button icon="edit" (onClick)="enableEdit('Email')"></dx-button>
        </div>
      </ng-template>
    </dxi-item>

    <dxi-item dataField="Frameworks">
      <ng-template dxTemplate="content">
        <div class="field-wrapper">
          <span>{{ user.Frameworks.join(', ') }}</span>
          <dx-button icon="edit" (onClick)="enableEdit('Frameworks')"></dx-button>
        </div>
      </ng-template>
    </dxi-item>

    <dxi-item *ngIf="isEditing">
      <dx-tag-box
        [items]="frameworkOptions"
        [(value)]="user.Frameworks"
        displayExpr="name"
        valueExpr="name"
        placeholder="Select frameworks">
      </dx-tag-box>
      <dx-button text="Save" type="success" (onClick)="saveProfile()"></dx-button>
      <dx-button text="Cancel" type="normal" (onClick)="disableEdit()"></dx-button>
    </dxi-item>
  </dx-form>

  <h3>Previous Tests</h3>
  <dx-data-grid [dataSource]="previousTests">
    <dxo-paging [pageSize]="10"></dxo-paging>
    <dxo-pager [showPageSizeSelector]="true" [allowedPageSizes]="[5, 10, 20]"></dxo-pager>
    <dxi-column dataField="testName" caption="Test Name"></dxi-column>
    <dxi-column dataField="date" caption="Date" dataType="date"></dxi-column>
    <dxi-column dataField="score" caption="Score" dataType="number"></dxi-column>
  </dx-data-grid>
</div>
